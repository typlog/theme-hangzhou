{% block styles %}
{% include "./_partials/webfonts.j2" %}
<link rel="stylesheet" href="{{ _static_url }}/base.css">
<link rel="stylesheet" href="{{ _static_url }}/column.css">
{% endblock %}

{% block scripts %}
<script src="{{ _static_url }}/app.js" type="module"></script>
{% include "components/iconify-icon.j2" %}
{% endblock %}


{% block body %}
  <div id="navbar" class="z-30 fixed lg:sticky top-0 w-full">
    <div id="navbar-backdrop"></div>
    <div class="mx-auto max-w-content relative">
      {% include "./_layouts/components/nav-head.j2" %}
    </div>
  </div>
  <main id="main" class="max-w-content flex mx-auto pt-28 lg:pt-14 pb-16 lg:px-8">
    <div class="grow px-6 flex flex-col lg:flex-row gap-8">
      <section class="relative pb-12 mb-6 border-b lg:w-80 lg:pr-10 lg:border-none shrink">
        <div class="flex lg:flex-col gap-6">
          {% if podcast %}
            {% if podcast.image %}
              <img src="{{ podcast.image|thumbnail('ss') }}" width="120" height="120" alt="{{ podcast.title }}">
            {% endif %}
            <div class="flex-grow">
              <h1 class="text-3xl lg:text-4xl font-bold">{{ podcast.title }}</h1>
              {% if podcast.subtitle %}
                <h2 class="mt-2 text-lg text-gray-11">{{ podcast.subtitle }}</h2>
              {% endif %}
              {% if podcast.description %}
                <div class="hidden lg:block column-description">
                  {{ podcast.description|markdown }}
                </div>
              {% endif %}
            </div>
          </div>
        {% else %}
          <h1 class="text-4xl font-bold">{{ column.title }}</h1>
          {% if column.subtitle %}
            <h2 class="mt-2 text-lg text-gray-11">{{ column.subtitle }}</h2>
          {% endif %}
        {% endif %}
        <ul class="column-links flex lg:flex-col gap-2 mt-4 text-sm">
          <li><a class="flex items-center gap-1" href="{{ column.feed_url }}">
            <iconify-icon icon="simple-icons:rss"></iconify-icon>
            <span>RSS</span>
          </a></li>
          {% if theme_podcast_links %}
            {% for item in theme_podcast_links %}
              <li><a class="flex items-center gap-1" href="{{ item.link }}"{% if item.new_tab %} target="_blank"{% endif %}>
                {% if item.icon %}<iconify-icon icon="{{ item.icon }}"></iconify-icon>{% endif %}
                <span>{{ item.title }}</span>
              </a></li>
            {% endfor %}
          {% endif %}
        </ul>
      </section>
      <div class="flex flex-col grow gap-8">
        {% if pagination.items %}
          {% for note in pagination.items %}
            {% set episode = note.audio %}
            <div class="note-item pb-6 border-b">
              <div class="flex items-center gap-2">
                {% if episode.audio and episode.audio.duration %}
                  <span class="py-0.5 px-1.5 bg-gray-a3 text-gray-a11 text-xs rounded font-medium">
                    {{ episode.audio.duration|durationformat }}
                  </span>
                {% endif %}
                {% if episode.season or episode.episode %}
                  <span class="py-0.5 px-1.5 bg-gray-a3 text-gray-a11 text-xs rounded font-medium">
                    {%- if episode.season %}S{{episode.season}}{% endif -%}
                    {%- if episode.episode %}E{{episode.episode}}{% endif -%}
                  </span>
                {% endif %}
                <time class="text-xs text-gray-10 font-medium mr-2 js-time" datetime="{{ note.published_at|xmldatetime }}">{{ note.published_at|dateformat('%b %d, %Y') }}</time>
              </div>
              <div class="flex gap-4 mt-4">
                {% if episode.image %}
                  <a href="{{ note.url }}">
                    <img class="rounded" src="{{ episode.image|thumbnail('ss') }}" width="100" height="100" alt="{{ note.title }}">
                  </a>
                {% endif %}
                <a href="{{ note.url }}">
                  <div class="font-medium text-2xl">{{ note.title }}</div>
                  {% if note.subtitle %}
                    <div class="text-lg text-gray-11 mt-1.5">{{ note.subtitle }}</div>
                  {% endif %}
                </a>
              </div>
            </div>
          {% endfor %}
        {% endif %}
        {% include "./_partials/navigation.j2" %}
      </div>
    </div>
  </main>
  {% include "./_layouts/footer.j2" %}
{% endblock %}
